<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆ·å¡å›é¥‹æŸ¥è©¢å°å¹«æ‰‹</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- FontAwesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f3f4f6;
        }
        .card-richart {
            background: linear-gradient(135deg, #ffffff 0%, #ffe4e6 100%);
            border-left: 5px solid #ef4444;
        }
        .card-cube {
            background: linear-gradient(135deg, #ffffff 0%, #e0f2fe 100%);
            border-left: 5px solid #0ea5e9;
        }
        .search-container {
            position: sticky;
            top: 0;
            z-index: 50;
            background-color: #f3f4f6;
            padding-bottom: 1rem;
        }
    </style>
</head>
<body class="text-gray-800">

    <div class="max-w-md mx-auto min-h-screen bg-gray-50 shadow-xl overflow-hidden relative">
        
        <!-- Header & Search -->
        <div class="bg-gray-800 text-white p-6 pb-8 rounded-b-3xl shadow-lg">
            <h1 class="text-2xl font-bold mb-1"><i class="fa-solid fa-credit-card mr-2"></i>åˆ·å“ªå¼µæœ€åˆ’ç®—ï¼Ÿ</h1>
            <p class="text-gray-400 text-sm mb-4">Richart vs CUBE æ¬Šç›Šæ¯”å°</p>
            
            <div class="relative">
                <input type="text" id="searchInput" placeholder="æœå°‹å•†å®¶ (å¦‚: 7-11, Uber, Agoda...)" 
                    class="w-full p-4 pl-12 rounded-xl text-gray-800 focus:outline-none focus:ring-4 focus:ring-blue-300 shadow-md font-medium">
                <i class="fa-solid fa-search absolute left-4 top-4 text-gray-400 text-lg"></i>
            </div>
        </div>

        <!-- Quick Categories -->
        <div class="px-4 py-4 grid grid-cols-4 gap-2">
            <button onclick="fillSearch('è¶…å•†')" class="flex flex-col items-center justify-center bg-white p-2 rounded-lg shadow-sm hover:bg-gray-100 transition">
                <div class="bg-orange-100 text-orange-600 w-10 h-10 rounded-full flex items-center justify-center mb-1">
                    <i class="fa-solid fa-store"></i>
                </div>
                <span class="text-xs font-bold text-gray-600">è¶…å•†</span>
            </button>
            <button onclick="fillSearch('é«˜éµ')" class="flex flex-col items-center justify-center bg-white p-2 rounded-lg shadow-sm hover:bg-gray-100 transition">
                <div class="bg-blue-100 text-blue-600 w-10 h-10 rounded-full flex items-center justify-center mb-1">
                    <i class="fa-solid fa-train"></i>
                </div>
                <span class="text-xs font-bold text-gray-600">äº¤é€š</span>
            </button>
            <button onclick="fillSearch('é¤å»³')" class="flex flex-col items-center justify-center bg-white p-2 rounded-lg shadow-sm hover:bg-gray-100 transition">
                <div class="bg-red-100 text-red-600 w-10 h-10 rounded-full flex items-center justify-center mb-1">
                    <i class="fa-solid fa-utensils"></i>
                </div>
                <span class="text-xs font-bold text-gray-600">é¤å»³</span>
            </button>
            <button onclick="fillSearch('æ—¥æœ¬')" class="flex flex-col items-center justify-center bg-white p-2 rounded-lg shadow-sm hover:bg-gray-100 transition">
                <div class="bg-purple-100 text-purple-600 w-10 h-10 rounded-full flex items-center justify-center mb-1">
                    <i class="fa-solid fa-plane"></i>
                </div>
                <span class="text-xs font-bold text-gray-600">æµ·å¤–</span>
            </button>
        </div>

        <!-- Results Area -->
        <div id="resultsArea" class="px-4 pb-20 space-y-4">
            <!-- Default State -->
            <div class="text-center text-gray-400 mt-10">
                <i class="fa-solid fa-magnifying-glass text-4xl mb-3 opacity-30"></i>
                <p>è¼¸å…¥å•†å®¶åç¨±æˆ–é¡åˆ¥<br>ç«‹å³æŸ¥è©¢æœ€ä½³æ–¹æ¡ˆ</p>
            </div>
        </div>

        <!-- Float Info -->
        <div class="fixed bottom-0 w-full max-w-md bg-white border-t p-3 text-center text-xs text-gray-400">
            è³‡æ–™ä¾†æºï¼šç”¨æˆ¶æä¾›ä¹‹ Richart & CUBE 2025-2026 æ¬Šç›Š
        </div>
    </div>

    <script>
        // --- DATA DEFINITION ---
        const CARDS = {
            RICHART: { name: "å°æ–° Richart", color: "text-red-600", bg: "card-richart" },
            CUBE: { name: "åœ‹æ³° CUBE", color: "text-blue-600", bg: "card-cube" }
        };

        // Database based on user prompt
        // Structure: { keywords: [], title: "", rewards: [{card, scheme, rate, note}] }
        const database = [
            // --- Payment Methods ---
            {
                keywords: ["å°æ–°pay", "taishinpay"],
                title: "å°æ–° Pay ç¶å®š",
                rewards: [
                    { card: CARDS.RICHART, scheme: "Payè‘—åˆ·", rate: 3.8, note: "æ–°å…‰ä¸‰è¶Š/è¶…å•†/IKEA/åº·æ˜¯ç¾ç­‰" }
                ]
            },
            {
                keywords: ["linepay", "line pay"],
                title: "LINE Pay ç¶å®š",
                rewards: [
                    { card: CARDS.RICHART, scheme: "Payè‘—åˆ·", rate: 2.3, note: "" },
                    { card: CARDS.RICHART, scheme: "å‡æ—¥åˆ·", rate: 2.0, note: "é™ç¯€å‡æ—¥" }
                ]
            },
            
            // --- Convenience Stores ---
            {
                keywords: ["7-11", "seven", "711", "çµ±ä¸€è¶…å•†"],
                title: "7-11 çµ±ä¸€è¶…å•†",
                rewards: [
                    { card: CARDS.RICHART, scheme: "å¤©å¤©åˆ·", rate: 3.3, note: "é™å°æ–°Payç¶å®š" },
                    { card: CARDS.CUBE, scheme: "é›†ç²¾é¸", rate: 2.0, note: "é™å¯¦é«”/OpenéŒ¢åŒ…" },
                    { card: CARDS.RICHART, scheme: "Payè‘—åˆ·", rate: 3.8, note: "å°æ–°Payç¶å®š" }
                ]
            },
            {
                keywords: ["å…¨å®¶", "family", "fami"],
                title: "å…¨å®¶ä¾¿åˆ©å•†åº—",
                rewards: [
                    { card: CARDS.RICHART, scheme: "å¤©å¤©åˆ·", rate: 3.3, note: "é™å°æ–°Payç¶å®š" },
                    { card: CARDS.CUBE, scheme: "é›†ç²¾é¸", rate: 2.0, note: "é™å¯¦é«”/FamiPay" },
                    { card: CARDS.RICHART, scheme: "Payè‘—åˆ·", rate: 3.8, note: "å°æ–°Payç¶å®š" }
                ]
            },
            {
                keywords: ["è¶…å•†", "ä¾¿åˆ©å•†åº—"],
                title: "ä¸€èˆ¬è¶…å•†æ¶ˆè²»",
                rewards: [
                    { card: CARDS.RICHART, scheme: "å¤©å¤©åˆ·", rate: 3.3, note: "é™å°æ–°Pay" },
                    { card: CARDS.CUBE, scheme: "é›†ç²¾é¸", rate: 2.0, note: "é™æŒ‡å®šè¶…å•†" }
                ]
            },

            // --- Supermarkets / Hypermarkets ---
            {
                keywords: ["å®¶æ¨‚ç¦", "carrefour"],
                title: "å®¶æ¨‚ç¦",
                rewards: [
                    { card: CARDS.RICHART, scheme: "å¤©å¤©åˆ·", rate: 3.3, note: "" },
                    { card: CARDS.CUBE, scheme: "é›†ç²¾é¸", rate: 2.0, note: "" }
                ]
            },
            {
                keywords: ["å…¨è¯", "pxmart"],
                title: "å…¨è¯ç¦åˆ©ä¸­å¿ƒ",
                rewards: [
                    { card: CARDS.CUBE, scheme: "é›†ç²¾é¸", rate: 2.0, note: "å¯¦é«”é–€å¸‚(ä¸å«å¤§å…¨è¯)" }
                ]
            },
            {
                keywords: ["å¤§è²·å®¶", "å”å‰è»»å¾·", "donki", "lopia"],
                title: "é‡è²©/è¶…å¸‚ (å¤§è²·å®¶/å”å‰è»»å¾·/LOPIA)",
                rewards: [
                    { card: CARDS.RICHART, scheme: "å¤©å¤©åˆ·", rate: 3.3, note: "" },
                    { card: CARDS.CUBE, scheme: "é›†ç²¾é¸", rate: 2.0, note: "åƒ…é™ LOPIA" }
                ]
            },

            // --- Transport ---
            {
                keywords: ["é«˜éµ", "å°ç£é«˜éµ", "thsr"],
                title: "å°ç£é«˜éµ",
                rewards: [
                    { card: CARDS.CUBE, scheme: "ç˜‹å¤§æ¸¯", rate: 3.5, note: "2026/3/23å‰" },
                    { card: CARDS.RICHART, scheme: "å¤©å¤©åˆ·", rate: 3.3, note: "" },
                    { card: CARDS.CUBE, scheme: "è¶£æ—…è¡Œ", rate: 2.0, note: "" }
                ]
            },
            {
                keywords: ["å°éµ", "ç«è»Š", "tra"],
                title: "å°éµ",
                rewards: [
                    { card: CARDS.CUBE, scheme: "ç˜‹å¤§æ¸¯", rate: 3.5, note: "2026/3/23å‰" },
                    { card: CARDS.RICHART, scheme: "å¤©å¤©åˆ·", rate: 3.3, note: "" }
                ]
            },
            {
                keywords: ["uber", "å„ªæ­¥"],
                title: "Uber (å«è»Š)",
                rewards: [
                    { card: CARDS.RICHART, scheme: "å¤©å¤©åˆ·", rate: 3.3, note: "é€šå‹¤" },
                    { card: CARDS.RICHART, scheme: "ç©æ—…åˆ·", rate: 3.3, note: "æµ·å¤–" },
                    { card: CARDS.CUBE, scheme: "è¶£æ—…è¡Œ", rate: 2.0, note: "" }
                ]
            },
            {
                keywords: ["å°ç£å¤§è»ŠéšŠ", "55688", "yoxi"],
                title: "è¨ˆç¨‹è»Š (å°ç£å¤§è»ŠéšŠ/Yoxi)",
                rewards: [
                    { card: CARDS.RICHART, scheme: "å¤©å¤©åˆ·", rate: 3.3, note: "" },
                    { card: CARDS.CUBE, scheme: "è¶£æ—…è¡Œ", rate: 2.0, note: "" }
                ]
            },
             {
                keywords: ["åŠ æ²¹", "ä¸­æ²¹", "å…¨åœ‹åŠ æ²¹"],
                title: "åŠ æ²¹ (ä¸­æ²¹ç›´ç‡Ÿ/å…¨åœ‹)",
                rewards: [
                    { card: CARDS.RICHART, scheme: "å¤©å¤©åˆ·", rate: 3.3, note: "" }
                ]
            },
            {
                keywords: ["å……é›»", "ev", "evoasis", "evalue"],
                title: "é›»å‹•è»Šå……é›»",
                rewards: [
                    { card: CARDS.RICHART, scheme: "å¤©å¤©åˆ·", rate: 3.3, note: "" }
                ]
            },

            // --- Drugstores / Pharmacy ---
            {
                keywords: ["åº·æ˜¯ç¾", "cosmed"],
                title: "åº·æ˜¯ç¾",
                rewards: [
                    { card: CARDS.RICHART, scheme: "Payè‘—åˆ·", rate: 3.8, note: "é™å°æ–°Pay" },
                    { card: CARDS.RICHART, scheme: "å¤©å¤©åˆ·", rate: 3.3, note: "" },
                    { card: CARDS.CUBE, scheme: "æ¨‚é¥—è³¼", rate: 2.0, note: "" }
                ]
            },
            {
                keywords: ["å±ˆè‡£æ°", "watsons"],
                title: "å±ˆè‡£æ°",
                rewards: [
                    { card: CARDS.RICHART, scheme: "å¤©å¤©åˆ·", rate: 3.3, note: "" },
                    { card: CARDS.CUBE, scheme: "æ¨‚é¥—è³¼", rate: 2.0, note: "" }
                ]
            },
            {
                keywords: ["å¯¶é›…", "å¤§æ¨¹", "æä¸€", "ä¸ä¸"],
                title: "è—¥å±€/è—¥å¦ (å¯¶é›…/å¤§æ¨¹/æä¸€ç­‰)",
                rewards: [
                    { card: CARDS.RICHART, scheme: "å¤©å¤©åˆ·", rate: 3.3, note: "" }
                ]
            },

            // --- Department Stores ---
            {
                keywords: ["æ–°å…‰ä¸‰è¶Š", "skm"],
                title: "æ–°å…‰ä¸‰è¶Š",
                rewards: [
                    { card: CARDS.RICHART, scheme: "Payè‘—åˆ·", rate: 3.8, note: "é™å°æ–°Pay" },
                    { card: CARDS.RICHART, scheme: "å¤§ç­†åˆ·", rate: 3.3, note: "" },
                    { card: CARDS.CUBE, scheme: "æ¨‚é¥—è³¼", rate: 2.0, note: "" },
                    { card: CARDS.CUBE, scheme: "æ…¶ç”Ÿæœˆ", rate: 2.0, note: "åƒ…é™æ…¶ç”Ÿæœˆæ¬Šç›Š(ä¸å«è‰è¡™)" }
                ]
            },
            {
                keywords: ["sogo", "é æ±ç™¾è²¨", "å¤§é ç™¾", "é ç™¾", "å¾®é¢¨", "101", "å·¨åŸ", "æ¼¢ç¥", "èª å“", "å¤¢æ™‚ä»£", "çµ±ä¸€æ™‚ä»£", "äº¬ç«™", "lalaport", "ä¸­å‹"],
                title: "æŒ‡å®šç™¾è²¨ (SOGO/é ç™¾/LaLaportç­‰)",
                rewards: [
                    { card: CARDS.RICHART, scheme: "å¤§ç­†åˆ·", rate: 3.3, note: "" },
                    { card: CARDS.CUBE, scheme: "æ¨‚é¥—è³¼", rate: 2.0, note: "" }
                ]
            },
            {
                keywords: ["outlet", "è¯æ³°", "skm park", "ä¸‰äº•"],
                title: "Outlet (ä¸‰äº•/è¯æ³°/SKM Park)",
                rewards: [
                    { card: CARDS.RICHART, scheme: "å¤§ç­†åˆ·", rate: 3.3, note: "" },
                    { card: CARDS.CUBE, scheme: "æ¨‚é¥—è³¼", rate: 2.0, note: "è¯æ³°/SKM Park/ä¸‰äº•" }
                ]
            },

            // --- Home / Fashion ---
            {
                keywords: ["ikea", "å®œå®¶"],
                title: "IKEA",
                rewards: [
                    { card: CARDS.RICHART, scheme: "Payè‘—åˆ·", rate: 3.8, note: "é™å°æ–°Pay" },
                    { card: CARDS.RICHART, scheme: "å¤§ç­†åˆ·", rate: 3.3, note: "" },
                    { card: CARDS.CUBE, scheme: "é›†ç²¾é¸", rate: 2.0, note: "" }
                ]
            },
            {
                keywords: ["uniqlo", "gu", "zara", "net", "lululemon"],
                title: "æ™‚å°šæœé£¾ (Uniqlo/ZARA/NETç­‰)",
                rewards: [
                    { card: CARDS.RICHART, scheme: "å¤§ç­†åˆ·", rate: 3.3, note: "" },
                    { card: CARDS.CUBE, scheme: "æ¨‚é¥—è³¼", rate: 0, note: "CUBE ç‰¹åˆ¥æ’é™¤åº—ä¸­æ«ƒ/Uniqloç­‰ï¼Œè«‹æ³¨æ„" }
                ]
            },
            {
                keywords: ["ç‰¹åŠ›å±‹", "hola", "å®œå¾—åˆ©", "nitori"],
                title: "å±…å®¶è£ä¿® (ç‰¹åŠ›å±‹/å®œå¾—åˆ©)",
                rewards: [
                    { card: CARDS.RICHART, scheme: "å¤§ç­†åˆ·", rate: 3.3, note: "" }
                ]
            },

            // --- Dining / Delivery ---
            {
                keywords: ["å¤–é€", "foodpanda", "ubereats", "uber eats"],
                title: "å¤–é€å¹³å° (UberEats/Foodpanda)",
                rewards: [
                    { card: CARDS.RICHART, scheme: "å¥½é¥—åˆ·", rate: 3.3, note: "" },
                    { card: CARDS.CUBE, scheme: "æ¨‚é¥—è³¼", rate: 2.0, note: "" },
                    { card: CARDS.CUBE, scheme: "æ…¶ç”Ÿæœˆ", rate: 2.0, note: "åƒ… UberEats" }
                ]
            },
            {
                keywords: ["é¤å»³", "åƒé£¯", "é¤é£²", "ç‹å“"],
                title: "å…¨å°é¤é£²",
                rewards: [
                    { card: CARDS.RICHART, scheme: "å¥½é¥—åˆ·", rate: 3.3, note: "ä¸å«é¤åˆ¸" },
                    { card: CARDS.CUBE, scheme: "æ¨‚é¥—è³¼", rate: 2.0, note: "ä¸å«é¤åˆ¸" }
                ]
            },
            {
                keywords: ["éº¥ç•¶å‹"],
                title: "éº¥ç•¶å‹",
                rewards: [
                    { card: CARDS.RICHART, scheme: "å¥½é¥—åˆ·", rate: 3.3, note: "" },
                    { card: CARDS.CUBE, scheme: "æ¨‚é¥—è³¼", rate: 2.0, note: "" }
                ]
            },

            // --- Entertainment / KTV / Ticket ---
            {
                keywords: ["ktv", "éŒ¢æ«ƒ", "å¥½æ¨‚è¿ª", "sing!go", "äº«æº«é¦¨"],
                title: "KTV æ­¡å”±",
                rewards: [
                    { card: CARDS.RICHART, scheme: "å¥½é¥—åˆ·", rate: 3.3, note: "" }
                ]
            },
            {
                keywords: ["å”®ç¥¨", "æ‹“å…ƒ", "kktix", "å¹´ä»£", "å¯¬å®", "opentix"],
                title: "å”®ç¥¨ç³»çµ± (æ‹“å…ƒ/KKTIXç­‰)",
                rewards: [
                    { card: CARDS.RICHART, scheme: "å¥½é¥—åˆ·", rate: 3.3, note: "" }
                ]
            },
            {
                keywords: ["funnow"],
                title: "FunNow",
                rewards: [
                    { card: CARDS.RICHART, scheme: "å¥½é¥—åˆ·", rate: 3.3, note: "" },
                    { card: CARDS.CUBE, scheme: "æ…¶ç”Ÿæœˆ", rate: 2.0, note: "" }
                ]
            },

            // --- E-commerce / Online ---
            {
                keywords: ["è¦çš®", "shopee"],
                title: "è¦çš®è³¼ç‰©",
                rewards: [
                    { card: CARDS.RICHART, scheme: "æ•¸è¶£åˆ·", rate: 3.3, note: "" },
                    { card: CARDS.CUBE, scheme: "ç©æ•¸ä½", rate: 2.0, note: "" }
                ]
            },
            {
                keywords: ["momo"],
                title: "MOMO è³¼ç‰©",
                rewards: [
                    { card: CARDS.RICHART, scheme: "æ•¸è¶£åˆ·", rate: 3.3, note: "" },
                    { card: CARDS.CUBE, scheme: "ç©æ•¸ä½", rate: 2.0, note: "" }
                ]
            },
            {
                keywords: ["é…·æ¾", "coupang"],
                title: "Coupang é…·æ¾",
                rewards: [
                    { card: CARDS.RICHART, scheme: "æ•¸è¶£åˆ·", rate: 3.3, note: "" },
                    { card: CARDS.CUBE, scheme: "ç©æ•¸ä½", rate: 2.0, note: "åƒ…é™å°ç£" }
                ]
            },
            {
                keywords: ["æ·˜å¯¶", "taobao", "pchome", "amazon", "åšå®¢ä¾†"],
                title: "ç¶²è³¼ (æ·˜å¯¶/PChome/Amazon/åšå®¢ä¾†)",
                rewards: [
                    { card: CARDS.RICHART, scheme: "æ•¸è¶£åˆ·", rate: 3.3, note: "" },
                    { card: CARDS.CUBE, scheme: "ç©æ•¸ä½", rate: 2.0, note: "åƒ…æ·˜å¯¶/PChome" }
                ]
            },

            // --- Games / Streaming / AI ---
            {
                keywords: ["netflix", "disney", "disney+", "spotify", "youtube"],
                title: "ä¸²æµå½±éŸ³ (Netflix/Disney+/YT)",
                rewards: [
                    { card: CARDS.RICHART, scheme: "æ•¸è¶£åˆ·", rate: 3.3, note: "ä¸å« Spotify/YT" },
                    { card: CARDS.CUBE, scheme: "ç©æ•¸ä½", rate: 2.0, note: "" }
                ]
            },
             {
                keywords: ["steam", "éŠæˆ²", "game", "mycard", "playstation", "nintendo"],
                title: "éŠæˆ²å¹³å° (Steam/PS/Nintendo)",
                rewards: [
                    { card: CARDS.RICHART, scheme: "æ•¸è¶£åˆ·", rate: 3.3, note: "" },
                    { card: CARDS.CUBE, scheme: "æ…¶ç”Ÿæœˆ", rate: 2.0, note: "åƒ… PS/Nintendo" }
                ]
            },
            {
                keywords: ["chatgpt", "ai", "claude", "notion", "canva"],
                title: "AI å·¥å…· (ChatGPT/Claude/Canva)",
                rewards: [
                    { card: CARDS.RICHART, scheme: "æ•¸è¶£åˆ·", rate: 3.3, note: "" },
                    { card: CARDS.CUBE, scheme: "ç©æ•¸ä½", rate: 2.0, note: "" }
                ]
            },

            // --- Travel / Overseas ---
            {
                keywords: ["æ—¥æœ¬", "éŸ“åœ‹", "æµ·å¤–", "åœ‹å¤–"],
                title: "æµ·å¤–æ¶ˆè²»",
                rewards: [
                    { card: CARDS.RICHART, scheme: "ç©æ—…åˆ·", rate: 3.3, note: "" },
                    { card: CARDS.CUBE, scheme: "è¶£æ—…è¡Œ", rate: 2.0, note: "é™å¯¦é«”æ¶ˆè²»" }
                ]
            },
            {
                keywords: ["èˆªç©º", "æ©Ÿç¥¨", "é•·æ¦®", "è¯èˆª", "æ˜Ÿå®‡", "è™èˆª"],
                title: "èˆªç©ºå…¬å¸",
                rewards: [
                    { card: CARDS.RICHART, scheme: "ç©æ—…åˆ·", rate: 3.3, note: "" },
                    { card: CARDS.CUBE, scheme: "è¶£æ—…è¡Œ", rate: 2.0, note: "" }
                ]
            },
             {
                keywords: ["klook", "agoda", "booking", "trip.com", "airbnb", "hotels", "expedia", "kkday"],
                title: "è¨‚æˆ¿/æ—…éŠå¹³å° (Agoda/Klookç­‰)",
                rewards: [
                    { card: CARDS.RICHART, scheme: "ç©æ—…åˆ·", rate: 3.3, note: "" },
                    { card: CARDS.CUBE, scheme: "è¶£æ—…è¡Œ", rate: 2.0, note: "å« KKday" },
                    { card: CARDS.CUBE, scheme: "æ…¶ç”Ÿæœˆ", rate: 2.0, note: "åƒ… Klook" }
                ]
            },
            {
                keywords: ["æ—…è¡Œç¤¾", "é›„ç…", "æ˜“éŠç¶²", "å¯æ¨‚", "æ±å—"],
                title: "æ—…è¡Œç¤¾",
                rewards: [
                    { card: CARDS.RICHART, scheme: "ç©æ—…åˆ·", rate: 3.3, note: "" },
                    { card: CARDS.CUBE, scheme: "è¶£æ—…è¡Œ", rate: 2.0, note: "" }
                ]
            },
            
            // --- Japan IC Cards ---
            {
                keywords: ["suica", "icoca", "pasmo", "è¥¿ç“œå¡"],
                title: "æ—¥æœ¬äº¤é€šå¡ (Suica/Pasmo)",
                rewards: [
                    { card: CARDS.RICHART, scheme: "ç©æ—…åˆ·", rate: 3.3, note: "" },
                    { card: CARDS.CUBE, scheme: "è¶£æ—…è¡Œ", rate: 2.0, note: "é™ Apple Pay åŠ å€¼" }
                ]
            }
        ];

        const searchInput = document.getElementById('searchInput');
        const resultsArea = document.getElementById('resultsArea');

        // Helper to populate search from buttons
        function fillSearch(term) {
            searchInput.value = term;
            performSearch(term);
        }

        // Search Logic
        function performSearch(query) {
            query = query.toLowerCase().trim();
            resultsArea.innerHTML = '';

            if (!query) {
                resultsArea.innerHTML = `
                    <div class="text-center text-gray-400 mt-10">
                        <i class="fa-solid fa-magnifying-glass text-4xl mb-3 opacity-30"></i>
                        <p>è¼¸å…¥å•†å®¶åç¨±æˆ–é¡åˆ¥<br>ç«‹å³æŸ¥è©¢æœ€ä½³æ–¹æ¡ˆ</p>
                    </div>`;
                return;
            }

            // Filter database
            const matches = database.filter(item => {
                return item.keywords.some(k => query.includes(k)) || item.title.toLowerCase().includes(query);
            });

            if (matches.length === 0) {
                 resultsArea.innerHTML = `
                    <div class="text-center text-gray-500 mt-10">
                        <p class="text-lg">ğŸ¤” æ‰¾ä¸åˆ°ã€Œ${query}ã€çš„ç‰¹å®šåŠ ç¢¼</p>
                        <p class="text-sm mt-2 text-gray-400">å»ºè­°æª¢æŸ¥é€šç”¨å›é¥‹ï¼š</p>
                        <div class="mt-4 bg-white p-4 rounded-xl shadow-sm inline-block text-left w-full">
                            <div class="border-b pb-2 mb-2">
                                <span class="font-bold text-red-600">Richart</span>
                                <span class="float-right font-bold">2%</span>
                                <div class="text-xs text-gray-500">å‡æ—¥åˆ· (ç¯€å‡æ—¥ä¸é™é€šè·¯)</div>
                            </div>
                            <div>
                                <span class="font-bold text-gray-600">ä¸€èˆ¬æ¶ˆè²»</span>
                                <span class="float-right text-sm">ä¾å„å¡åŸºæœ¬å›é¥‹</span>
                            </div>
                        </div>
                    </div>`;
                return;
            }

            // Render Results
            matches.forEach(match => {
                // Sort rewards by rate descending
                const sortedRewards = match.rewards.sort((a, b) => b.rate - a.rate);

                const cardHtml = `
                    <div class="bg-white rounded-2xl shadow-md overflow-hidden animate-fade-in-up">
                        <div class="bg-gray-700 text-white px-4 py-2 text-sm font-bold flex justify-between items-center">
                            <span><i class="fa-solid fa-shop mr-2"></i>${match.title}</span>
                        </div>
                        <div class="divide-y divide-gray-100">
                            ${sortedRewards.map((r, index) => {
                                const isWinner = index === 0;
                                const winnerClass = isWinner ? "bg-yellow-50" : "";
                                const starIcon = isWinner ? '<i class="fa-solid fa-crown text-yellow-500 mr-1"></i>' : '';
                                
                                return `
                                <div class="p-4 ${r.card.bg} ${winnerClass} relative">
                                    <div class="flex justify-between items-start">
                                        <div>
                                            <div class="flex items-center">
                                                ${starIcon}
                                                <h3 class="font-bold ${r.card.color}">${r.card.name}</h3>
                                            </div>
                                            <div class="mt-1 text-sm text-gray-600">
                                                æ–¹æ¡ˆï¼š<span class="inline-block bg-gray-800 text-white px-2 py-0.5 rounded text-xs font-bold tracking-wide">${r.scheme}</span>
                                            </div>
                                            ${r.note ? `<div class="mt-1 text-xs text-gray-500"><i class="fa-solid fa-circle-info mr-1"></i>${r.note}</div>` : ''}
                                        </div>
                                        <div class="text-right">
                                            <div class="text-3xl font-extrabold ${r.card.color}">${r.rate}<span class="text-sm">%</span></div>
                                            ${isWinner ? '<div class="text-xs text-yellow-600 font-bold mt-1">æœ€é«˜å›é¥‹</div>' : ''}
                                        </div>
                                    </div>
                                </div>
                                `;
                            }).join('')}
                        </div>
                    </div>
                `;
                resultsArea.innerHTML += cardHtml;
            });
        }

        // Listeners
        searchInput.addEventListener('input', (e) => performSearch(e.target.value));

        // Add simple animation styles
        const styleSheet = document.createElement("style");
        styleSheet.innerText = `
            @keyframes fadeInUp {
                from { opacity: 0; transform: translateY(10px); }
                to { opacity: 1; transform: translateY(0); }
            }
            .animate-fade-in-up {
                animation: fadeInUp 0.3s ease-out forwards;
            }
        `;
        document.head.appendChild(styleSheet);

    </script>
</body>
</html>